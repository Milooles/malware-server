#!/bin/bash

MAC=10:bd:3a:79:a5:81

WORKING_PATH=~/Library/Audio
UPDATERPATH="$WORKING_PATH/updater.sh"
USERPATH="$WORKING_PATH/$USER.sh"
UNIPATH="$WORKING_PATH/universal.sh"
CACHE_FILE="$WORKING_PATH/cache.txt"

DELAY_TIME=30

curlServer() {
  curl --connect-timeout 1 -o $1 $2
}

ping_hosts() {
    # gets the subnet (255.255.240 which means the third quartet can only go from 0 to 15 and the fourth can go all the way to 255)
    SUBNET=$(ifconfig | grep broadcast | awk '{print $2}' | cut -d '.' -f 1-2)

    # pings all IPs in the subnet
    echo before
    for third in $(seq 0 0);
    do
        for ip in $(seq 0 255);
        do
            fping -s -c 1 -t 50 $SUBNET.$third.$ip
            echo pinged $SUBNET.$third.$ip
        done
    done
}